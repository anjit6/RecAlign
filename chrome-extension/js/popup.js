(()=>{"use strict";function e(){const e=document.getElementById("preference").value;chrome.storage.sync.set({preference:e}).then((()=>{console.log("Value is set to "+e)}));const t=document.getElementById("openai-api-key").value;chrome.storage.sync.set({openai_api_key:t}).then((()=>{console.log("OpenAI API key saved.")}));const n=document.getElementById("twitter").checked,c=document.getElementById("zhihu").checked;chrome.storage.sync.set({twitter:n,zhihu:c}).then((()=>{console.log("Twitter: "+n+", Zhihu: "+c)}))}window.addEventListener("load",(function(){chrome.storage.sync.get(["preference"]).then((e=>{console.log("Value currently is "+e.preference),null!=e.preference&&""!=e.preference||(e.preference="",document.getElementById("preference").classList.add("is-invalid")),document.getElementById("preference").value=e.preference})),chrome.storage.sync.get(["openai_api_key"]).then((e=>{null==e.openai_api_key||""==e.openai_api_key?(e.openai_api_key="",document.getElementById("openai-api-key").classList.add("is-invalid"),document.getElementById("openai-api-key").value=""):document.getElementById("openai-api-key").value=e.openai_api_key})),chrome.storage.sync.get(["twitter","zhihu"]).then((e=>{null==e.twitter&&(e.twitter=!0),null==e.zhihu&&(e.zhihu=!0),document.getElementById("twitter").checked=e.twitter,document.getElementById("zhihu").checked=e.zhihu})),document.getElementById("save-button").addEventListener("click",e)}))})();